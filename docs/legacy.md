# Legacy-версия подсистемы имитационного моделирования комплекса АТ-ТЕХНОЛОГИЯ

## Установка и запуск программного обеспечения

1. Предварительно необходимо установить среду разработки [Microsoft Visual Studio Community](https://visualstudio.microsoft.com/vs/community/).

2. Скачать или склонировать данный репозиторий в соответствующую директорию.
```bash
git clone https://github.com/leerycorsair/ATTec-Simulation-Subsystem.git
```

3. Перейти в каталог репозитория и переключиться на ветку ``legacy``.
```bash
git checkout legacy
```

4. Для конкретного компонента следует открыть ``.sln``-файл и выполнить запуск проекта.

## Структура программного комплекса

Разработаное программное обеспечения включает в себя 5 компонентов: 

1. Визуализатор (Со Тиха Аунг).
2. Компонент поддержки расчета состояний имитационной модели (Со Тиха Аунг).
3. Редактор визуальных объектов (Сергей Капочкин).
4. Редактор кадров анимации и правил отображения (Со Тиха Аунг).
5. Транслятор (Иван Пиянин + Со Тиха Аунг).

## Общая схема взаимодействия компонентов

![Схема](./artifacts/legacy_scheme.svg)


## Протокол исследования и тестирования подсистемы имитационного моделирования

### Редактор визуальных объектов

|Функция|Вход|Ожидаемый результат|Фактический результат|Вывод|
|-|-|-|-|-|
|Создание модели при помощи меню (Меню>Файл>Создать модель).|Задается имя модели, тип моделируемой системы, имя специалиста, дата начала и завершения.|При нажатии на клавишу "Установить" должно появляться контекстное уведомление об успешном/неуспешном создании. <br> При нажатии на клавишу "Выйти" контекстное окно должно закрываться без сохранения. <br> При нажатии на клавишу "Помощь" должно появляться контекстное уведомление с подсказами для пользователя.|При нажатии на указанные клавиши ничего не происходит.|Рассмотренный функционал не реализован.|
|Сохранение модели при помощи меню (Меню>Файл>Сохранить).|-|Имитационная модель на языке РДО<sup>АТ</sup> в виде XML-файла.|Имитационная модель на языке РДО<sup>АТ</sup> в виде XML-файла.|Рассмотренный функционал реализован. <br> Примечание: Отсутствует информация об имени и пути сохраняемого файла, а также возможность их выбора.|
|Загрузка существующей корректной модели  при помощи меню (Меню>Файл>Загрузить).|Задается имя XML-файла на языке РДО<sup>АТ</sup> c помощью проводника.|Появление всех загруженных элементов (типов ресурсов, ресурсов, образцов операций и т.д.) в графическом представлении на рабочем пространстве и в текстовом виде в соответствующих списках. |Появление всех загруженных элементов (типов ресурсов, ресурсов, образцов операций и т.д.) в графическом представлении на рабочем пространстве и в текстовом виде в соответствующих списках. |Функционал реализован.|
|Загрузка существующей некорректной модели при помощи меню (Меню>Файл>Загрузить).|Задается имя XML-файла на языке РДО<sup>АТ</sup> c помощью проводника.|Появление уведомления о некорректном содержимом файла.|Появление исключения и аварийное завершение программы.|Функционал нереализован. Необходимо добавить обработку соответствующего исключения.|
|Завершение работы  при помощи меню (Меню>Файл>Выйти).|-|Появление предупреждения о закрытии.|Появление предупреждения о закрытии.|Функционал реализован.<br>Примечание: отсутсвует предложение о сохранении текущего прогресса.|
|Добавление объекта "Тип ресурсов" при помощи меню (Меню>Вставить>Тип ресурсов).|Задается имя типа, вид ресурсов, а также параметры ресурса.|Появление на рабочем пространстве и в соответствующем списке.|Появление на рабочем пространстве и в соответствующем списке.|Функционал реализован.|
|Добавление некорректного объекта "Тип ресурсов" при помощи меню (Меню>Вставить>Тип ресурсов).|Задается некорректное имя типа, вид ресурсов, а также параметры ресурса.|Появление уведомления о некорректном вводе.|Появление уведомления о некорректном вводе.|Функционал реализован.|
|Добавление объекта "Ресурс" при помощи меню (Меню>Вставить>Ресурс).|Задается имя ресурса, тип ресурса, признак трассировки и описание параметров.|Появление на рабочем пространстве и в соответствующем списке.|Появление на рабочем пространстве и в соответствующем списке.|Функционал реализован.|
|Добавление некорректного объекта "Ресурс" при помощи меню (Меню>Вставить>Ресурс).|Задается некорректное имя ресурса, тип ресурса, признак трассировки и описание параметров.|Появление уведомления о некорректном вводе.|Появление уведомления о некорректном вводе.|Функционал реализован.|
|Добавление объекта "Ресурс" при помощи меню (Меню>Вставить>Ресурс) при несуществующих объектах "Тип ресурсов".|-|Появление соответствующего уведомления.|Появление соответствующего уведомления.|Функционал реализован.|
|Добавление объекта "Функция" при помощи меню (Меню>Вставить>Функция).|Задается имя фунции, тип возвращаемого значения, тело функции и ее параметры.|Появление на рабочем пространстве и в соответствующем списке.|Появление на рабочем пространстве и в соответствующем списке.|Функционал реализован.|
|Добавление некорректного объекта "Функция" при помощи меню (Меню>Вставить>Функция).|Задается некорректное имя фунции, тип возвращаемого значения, тело функции и ее параметры.|Появление уведомления о некорректном вводе.|Появление уведомления о некорректном вводе.|Функционал реализован.|
|Добавление объекта "Образец операции" при помощи меню (Меню>Вставить>Образец операции).|Задается имя образца, тип образца, параметры времени и тело образца.|Появление на рабочем пространстве и в соответствующем списке.|Появление на рабочем пространстве и в соответствующем списке.|Функционал реализован.|
|Добавление некорректного объекта "Образец операции" при помощи меню (Меню>Вставить>Образец операции).|Задается некорретное имя образца, тип образца, параметры времени и тело образца.|Появление соответствующего уведомления.|Появление соответствующего уведомления.|Функционал реализован.|
|Добавление объекта "Образец операции" при помощи меню (Меню>Вставить>Операция) при несуществующих объектах "Тип ресурсов".|-|Появление соответствующего уведомления.|Появление соответствующего уведомления.|Функционал реализован.|
|Добавление объекта "Операция" при помощи меню (Меню>Вставить>Операция).|Задается имя операции, образец операции и тело операции.|Появление на рабочем пространстве и в соответствующем списке.|Появление на рабочем пространстве и в соответствующем списке.|Функционал реализован.|
|Добавление некорректного объекта "Операция" при помощи меню (Меню>Вставить>Операция).|Задается некорретное имя операции, образец операции и тело операции.|Появление соответствующего уведомления.|Появление соответствующего уведомления.|Функционал реализован.|
|Добавление объекта "Образец операции" при помощи меню (Меню>Вставить>Операция) при несуществующих объектах "Образец операции".|-|Появление соответствующего уведомления.|Появление соответствующего уведомления.|Функционал реализован.|
|Получение справочной информации о программе при помощи меню (Меню>Справка>О программе).|-|Общая информация о программе в виде контестного уведомления.|Общая информация о программе в виде контестного уведомления.|Функционал реализован.|
|Получение справочной информации о РДО при помощи меню (Меню>Справка>Справка о РДО).|-|Общая информация о РДО в виде контестного уведомления.|Общая информация о РДО в виде контестного уведомления.|Функционал реализован.|
|Перемещение объектов на рабочем пространстве.|-|Движение выбранного объекта при помощи зажатой клавиши мыши.|Движение выбранного объекта при помощи зажатой клавиши мыши.|Функционал реализован.|
|Подробный просмотр свойств объекта "Тип ресурсов".|-|Получение соответствующего контекстного окна.|Получение соответствующего контекстного окна.|Функционал реализован.|
|Подробный просмотр свойств объекта "Ресурс".|-|Получение соответствующего контекстного окна.|Получение соответствующего контекстного окна.|Функционал реализован.|
|Подробный просмотр свойств объекта "Функция".|-|Получение соответствующего контекстного окна.|Получение соответствующего контекстного окна.|Функционал реализован.|
|Подробный просмотр свойств объекта "Образец операции".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Подробный просмотр свойств объекта "Операция".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Подробный просмотр свойств объекта "Релевантный ресурс".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Редактирование свойств объекта "Тип ресурсов".|-|Получение соответствующего контекстного окна.|Получение соответствующего контекстного окна.|Функционал реализован.|
|Редактирование свойств объекта "Ресурс".|-|Получение соответствующего контекстного окна.|Получение соответствующего контекстного окна.|Функционал реализован.|
|Редактирование свойств объекта "Функция".|-|Получение соответствующего контекстного окна.|Получение соответствующего контекстного окна без возможности редактирования.|Функционал не реализован.|
|Редактирование свойств объекта "Образец операции".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Редактирование свойств объекта "Операция".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Редактирование свойств объекта "Релевантный ресурс".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Удаление объекта "Тип ресурсов".|-|Получение соответствующего контекстного окна и удаление связанных объектов "Ресурс".|Получение соответствующего контекстного окна и удаление связанных объектов "Ресурс".|Функционал реализован.|
|Удаление объекта "Ресурс".|-|Получение соответствующего контекстного окна.|Получение соответствующего контекстного окна.|Функционал реализован.|
|Удаление объекта "Функция".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Удаление объекта "Образец операции".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Удаление объекта "Операция".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|
|Удаление объекта "Релевантный ресурс".|-|Получение соответствующего контекстного окна.|-|Функционал не реализован.|

### Транслятор
|Функция|Вход|Ожидаемый результат|Фактический результат|Вывод|
|-|-|-|-|-|
|Загрузка существующей имитационной модели на языке РДО<sup>АТ</sup> в виде XML-файла.|Задается имя XML-файла на языке РДО<sup>АТ</sup> c помощью проводника.|Сообщение о успешном прохождении лексического, синтаксического и семантического анализа.|Сообщение о успешном прохождении лексического, синтаксического и семантического анализа.|Функционал реализован.|
|Загрузка существующей имитационной модели на языке РДО<sup>АТ</sup> в виде XML-файла с ошибкой в лексике.|Задается имя XML-файла на языке РДО<sup>АТ</sup> c помощью проводника.|Появление соответствующего уведомления с ошибкой.|Появление соответствующего уведомления с ошибкой.|Функционал реализован.|
|Загрузка существующей имитационной модели на языке РДО<sup>АТ</sup> в виде XML-файла с ошибкой в синтаксисе.|Задается имя XML-файла на языке РДО<sup>АТ</sup> c помощью проводника.|Появление соответствующего уведомления с ошибкой.|Появление соответствующего уведомления с ошибкой.|Функционал реализован.|
|Загрузка существующей имитационной модели на языке РДО<sup>АТ</sup> в виде XML-файла с ошибкой в семантике.|Задается имя XML-файла на языке РДО<sup>АТ</sup> c помощью проводника.|Появление соответствующего уведомления с ошибкой.|Появление соответствующего уведомления с ошибкой.|Функционал реализован.|
|Создание COM-объекта для Run/Design Time.|Задание имени модели.|Создание соответствующего .dll-файла, C#-файла и появление соответствующего уведомления.|Ошибка доступа на запись файла и ошибка совместимости компилятора.|Функционал необходимо доработать на предмет совместимости. <br> Примечание: отсутсвует возможность гибкого выбора имени всех файлов и путей сохранения.|  

### Компонент поддержки расчета состояний имитационной модели
|Функция|Вход|Ожидаемый результат|Фактический результат|Вывод|
|-|-|-|-|-|
|Загрузка модели.|Задается имя файла модели c помощью проводника.|Появление соответствующего уведомления об успешной загрузке.|Появление соответствующего уведомления об успешной загрузке.|Функционал реализован.|
|Загрузка некорректной модели.|Задается имя файла модели c помощью проводника.|Появление соответствующего уведомления с ошибкой.| Появление исключения и аварийное завершение программы.|Функционал нереализован. Необходимо добавить обработку соответствующего исключения.|
|Запуск расчета имитационного моделирования.|Задается длина такта и их количество.|Постепенное увеличение счетчика тактов. Результат имитационного моделирования в виде XML-файла.|Постепенное увеличение счетчика тактов. Результат имитационного моделирования в виде XML-файла.|Функционал реализован. <br> Примечание: отсутсвует возможность выбора имени выходного файла и пути сохранения.|
|Запуск расчета имитационного моделирования без загрузки модели.|Задается длина такта и их количество.|Появление соответствующего уведомления с ошибкой.|Появление исключения и аварийное завершение программы.|Функционал нереализован. Необходимо добавить обработку соответствующего исключения.|
|Пауза расчета имитационного моделирования.|-|Приостановка счетчика текущих тактов.|Приостановка счетчика текущих тактов.|Функционал реализован.|
|Остановка расчета имитационного моделирования.|-|Сброс модели и всех параметров.|Сброс модели и всех параметров.|Функционал реализован.| 